
<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservar</title>
    <link rel="shortcut icon" href="/img/logoRR.png" type="image/x-icon" />
    <link rel="stylesheet" href="/front/cadastrarrec.css">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script type="module" src="/front/cadastrarrec.js" defer> </script>

    <main>
        <header>
            <h2 id="home"></h2>
        <nav class="navigation">

            </ul>
           <ul class="nav-menu">
                <li class="nav-item"><a href="admprincipal.html">Home</a></li>
                <li class="nav-item"><a href="admprincipal.html">Sobre</a></li>
                <li class="nav-item"><a href="agendaadm.html">Agenda</a></li>
                <li class="nav-item"><a href="#contato">Contato</a></li>
                <li class="nav-item dropdown">
                  <div class="dropdown">
                    <button class="dropdown-btn">Cadastrar</button>
                    <div class="dropdown-content">
                      <a href="espf.html">Espaço Físico</a>
                      <a href="cadastrarrec.html">Recurso</a>
                    </div>
                  </div>
                </li>
                <li class="nav-item"><a href="autorizar.html">Solicitações</a></li>

              </ul>

                <div class="menu">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>

                <div id="menu">
                    <div id="logo">
                        <img src="/img/logoprincipal.png" alt="Logo do Site" class="logo">
                    </div>
            </nav>


            <script src="cadastrarrec.js"></script>

        </header>

<body>
    <script src="cadastro.js"></script>

    <div class="box">

        <div class="form-box">
            <h2>Cadastrar recursos presentes nos espaços físicos</h2>

            <form action="#">

                <div class="input-group">
                    <label for="recurso">Recurso</label>
                    <input type="recurso" id="recurso" placeholder="Informe o nome do recurso" required>
                </div>

                <div class="input-group">
                    <label for="quantidade">Quantidade</label>
                    <input type="quantidade" id="quantidade" placeholder="Informe o número de recursos" required>
                </div>


                <div class="input-group">
                    <label for="descricao">Descrição</label>
                    <input type="descricao" id="descricao" placeholder="Informe a descrição dos recursos" required>
                </div>

            <div class="input-group">

                    <label for="espaco_fisico">Espaços físicos</label>
                    
                        <select id="espaco_fisico" name="espaco_fisiço">
                            <!-- Opções serão preenchidas via JavaScript -->
                        </select>
        

                <div class="input-group">
                    <button>Cadastrar</button>
                </div>

            </form>
        </div>
    </div>
</body>


<footer class="rodape" id="contato">
    <div class="rodape-div">

        <div class="rodape-div-1">
            <div class="rodape-div-1-coluna">

                <span><b>RESERVAR</b></span>
                <p>Esse sistema faz parte do Projeto Interdisciplinar do CEFET-MG campus Leopoldina.</p>
            </div>
        </div>

        <div class="rodape-div-2">
            <div class="rodape-div-2-coluna">

                <span><b>Contatos</b></span>
                <p>spacelab02023pi@gmail.com</p>
                <p>ig: @reservar.cefetmg</p>
            </div>
        </div>

        <div class="rodape-div-3">
            <div class="rodape-div-3-coluna">

                <span><b>Links</b></span>
                <p><a href="#">Desenvolvedores</a></p>
                <p><a href="#">Sistema</a></p>
                <p><a href="#">Sobre</a></p>
            </div>
        </div>

        <div class="rodape-div-4">
            <div class="rodape-div-4-coluna">

                <span><b>Outros</b></span>
                <p> <a href="/front/Politica.html">Política de Privacidade</p>
            </div>
        </div>

    </div>
    <p class="rodape-direitos">Copyright © 2023 – Todos os Direitos Reservados.</p>
</footer>

<script>
     // Função para preencher a lista suspensa com os espaços físicos
     function preencherEspacos(espacos) {
            var selectEspaco = document.getElementById("espaco_fisico");
            espacos.forEach(function (espaco) {
              var option = document.createElement("option");
              option.value = espaco.nome;
              option.text = espaco.nome + "-" + espaco.numero_sala;
              selectEspaco.appendChild(option);
            });
          }
          
    // Carregar a lista de espaços físicos ao carregar a página
    axios.get("https://reservar.glitch.me/verespacos")
        .then(function (response) {
            var espacos = response.data;
            preencherEspacos(espacos);
            // Carregar o calendário com a primeira seleção
            salvarSelecao();
        })
        .catch(function (error) {
            console.error("Erro ao buscar espaços físicos", error);
        });

    // Adicione um ouvinte de evento ao <select> para atualizar automaticamente
    // quando a seleção for alterada
    document.getElementById("escolhaEspaco").addEventListener("change", salvarSelecao);

</script>

</html>